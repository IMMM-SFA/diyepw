

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>diyepw Python API &mdash; diyepw 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="DIYEPW" href="README.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> diyepw
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">DIYEPW</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#using-diyepw-to-generate-amy-epw-files">Using DIYEPW to generate AMY EPW files</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">diyepw Python API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">diyepw</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>diyepw Python API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/diyepw.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="diyepw-python-api">
<h1>diyepw Python API<a class="headerlink" href="#diyepw-python-api" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-diyepw.analyze_noaa_isd_lite_file"></span><dl class="py function">
<dt id="diyepw.analyze_noaa_isd_lite_file.analyze_noaa_isd_lite_file">
<code class="sig-prename descclassname"><span class="pre">diyepw.analyze_noaa_isd_lite_file.</span></code><code class="sig-name descname"><span class="pre">analyze_noaa_isd_lite_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'infer'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.analyze_noaa_isd_lite_file.analyze_noaa_isd_lite_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an analysis of a single NOAA ISD Lite file, determining whether it is suitable for conversion into an AMY
EPW file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – The path of the NOAA ISD Lite file to be analyzed. The file may be uncompressed, or in any
compression format permitted by pandas.read_csv(). If it is compressed, it must have a corresponding file
extension, or the compression parameter must be passed. File name must begin with the WMO index of the
weather station at which the observations in the file were recorded.</p></li>
<li><p><strong>compression</strong> – If you pass compressed files that don’t end in the typical extension for their
compression type (e.g. “.gz” for GZIP, “.zip” for ZIP, etc.) then you must pass this to indicate
what the files’ compression format is. See the documentation of the <cite>compression</cite> parameter of
pandas.read_csv() for more information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>dict in the form:
{</p>
<blockquote>
<div><p>’file’: &lt;str&gt; - absolute path to the file,
‘total_rows_missing’: &lt;int&gt; - The number of total rows that are missing data in this file,
‘max_consec_rows_missing’: &lt;int&gt; - The largest number of consecutive rows that are missing data in this file</p>
</div></blockquote>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-diyepw.analyze_noaa_isd_lite_files"></span><dl class="py function">
<dt id="diyepw.analyze_noaa_isd_lite_files.analyze_noaa_isd_lite_files">
<code class="sig-prename descclassname"><span class="pre">diyepw.analyze_noaa_isd_lite_files.</span></code><code class="sig-name descname"><span class="pre">analyze_noaa_isd_lite_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_missing_rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_consecutive_missing_rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'infer'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.analyze_noaa_isd_lite_files.analyze_noaa_isd_lite_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an analysis of a set of NOAA ISD Lite files, determining which of them are suitable
for conversion into AMY EPW files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> – An collection of paths to the NOAA ISD Lite files to be analyzed. See this package’s
analyze_noaa_isd_lite_file() function for more information.</p></li>
<li><p><strong>max_missing_rows</strong> – The maximum number of total missing rows to allow in a file.</p></li>
<li><p><strong>max_consecutive_missing_rows</strong> – The maximum number of consecutive missing rows to allow in a file.</p></li>
<li><p><strong>compression</strong> – If you pass compressed files that don’t end in the typical extension for their
compression type (e.g. “.gz” for GZIP, “.zip” for ZIP, etc.) then you must pass this to indicate
what the files’ compression format is. See the documentation of the <cite>compression</cite> parameter of
pandas.read_csv() for more information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict in the form:</p>
</dd>
</dl>
<dl class="simple">
<dt>{</dt><dd><p>“good”: [&lt;file_description&gt;, …],
“too_many_total_rows_missing”: [&lt;file_description&gt;, …],
“too_many_consecutive_rows_missing”: [&lt;file_description&gt;, …]</p>
</dd>
</dl>
<p>}
…where &lt;file_description&gt; is itself a dict in the form:
{</p>
<blockquote>
<div><p>‘file’: &lt;str&gt; - absolute path to the file,
‘total_rows_missing’: &lt;int&gt; - The number of total rows that are missing data in this file,
‘max_consec_rows_missing’: &lt;int&gt; - The largest number of consecutive rows that are missing data in this file</p>
</div></blockquote>
<p>}</p>
</dd></dl>

<span class="target" id="module-diyepw.create_amy_epw_file"></span><dl class="py function">
<dt id="diyepw.create_amy_epw_file.create_amy_epw_file">
<code class="sig-prename descclassname"><span class="pre">diyepw.create_amy_epw_file.</span></code><code class="sig-name descname"><span class="pre">create_amy_epw_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wmo_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_records_to_interpolate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_records_to_impute</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_missing_amy_rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amy_epw_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmy_epw_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amy_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amy_files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_downloads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#diyepw.create_amy_epw_file.create_amy_epw_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine data from a Typical Meteorological Year (TMY) EPW file and Actual Meteorological Year (AMY)
observed data to generate an AMY EPW file for a single calendar year at a given WMO.
:param wmo_index: The WMO Index of the weather station for which the EPW file should be generated.</p>
<blockquote>
<div><p>Currently only weather stations in the United States are supported.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> – The year for which the EPW should be generated</p></li>
<li><p><strong>amy_epw_dir</strong> – The directory into which the generated AMY EPW file should be written.
If not defined, a temporary directory will be created</p></li>
<li><p><strong>tmy_epw_dir</strong> – The source directory for TMY EPW files. If a file for the requested WMO Index is
already present, it will be used. Otherwise a TMY EPW file will be downloaded (see this package’s
get_tmy_epw_file() function for details). If no directory is given, the package’s default
directory (in data/tmy_epw_files/ in the package’s directory) will be used, which will allow AMY
files to be reused for future calls instead of downloading them repeatedly, which is quite time
consuming.</p></li>
<li><p><strong>amy_dir</strong> – The source directory for AMY files. If a file for the requested WMO Index and year
is already present, it will be used. Otherwise a TMY EPW file will be downloaded (see this package’s
get_noaa_isd_lite_file() function for details). If no directory is given, the package’s default
directory (in data/ in the package’s directory) will be used, which will allow AMY files to be
reused for future calls instead of downloading them repeatedly, which is quite time consuming.</p></li>
<li><p><strong>amy_files</strong> – Instead of specifying amy_dir and allowing this method to try to find the appropriate
file, you can use this argument to specify the actual files that should be used. There should be
two files - the first the AMY file for “year”, and the second the AMY file for the subsequent year,
which is required to support shifting the timezone from GMT to the timezone of the observed meteorology.</p></li>
<li><p><strong>max_records_to_interpolate</strong> – The maximum length of sequence for which linear interpolation will be
used to replace missing values. See the documentation of _handle_missing_values() below for details.</p></li>
<li><p><strong>max_records_to_impute</strong> – The maximum length of sequence for which imputation will be used to replace
missing values. See the documentation of _handle_missing_values() below for details.</p></li>
<li><p><strong>max_missing_amy_rows</strong> – The maximum total number of missing rows to permit in a year’s AMY file.</p></li>
<li><p><strong>allow_downloads</strong> – If this is set to True, then any missing TMY or AMY files required to generate the
requested AMY EPW file will be downloaded from publicly available online catalogs. Otherwise, those files
being missing will result in an error being raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The absolute path of the generated AMY EPW file</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-diyepw.create_amy_epw_files_for_years_and_wmos"></span><dl class="py function">
<dt id="diyepw.create_amy_epw_files_for_years_and_wmos.create_amy_epw_files_for_years_and_wmos">
<code class="sig-prename descclassname"><span class="pre">diyepw.create_amy_epw_files_for_years_and_wmos.</span></code><code class="sig-name descname"><span class="pre">create_amy_epw_files_for_years_and_wmos</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">years</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wmo_indices</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_records_to_interpolate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_records_to_impute</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_missing_amy_rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amy_epw_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmy_epw_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amy_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amy_files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_downloads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="headerlink" href="#diyepw.create_amy_epw_files_for_years_and_wmos.create_amy_epw_files_for_years_and_wmos" title="Permalink to this definition">¶</a></dt>
<dd><p>Create AMY EPW files for every combination of a set of WMO indices and years.</p>
<p>Except for “years” and “wmos” being lists rather than single values, all parameters are identical in effect to
create_amy_epw_file() - see that function’s documentation for details.
:param wmo_indices:
:param years:
:param max_records_to_interpolate:
:param max_records_to_impute:
:param max_missing_amy_rows:
:param amy_epw_dir: Note that, in addition to the generated AMY EPW files, an errors.csv file will be created in this</p>
<blockquote>
<div><p>directory if any errors were encountered, with error messages explaining which year/WMO Index combinations
failed and why.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tmy_epw_dir</strong> – </p></li>
<li><p><strong>amy_dir</strong> – </p></li>
<li><p><strong>amy_files</strong> – </p></li>
<li><p><strong>allow_downloads</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A dictionary of the files generated for each year/wmo combination, in the form {
&lt;year&gt;: {</p>
<blockquote>
<div><p>&lt;wmo_index&gt;: [&lt;file_path&gt;, …],
…</p>
</div></blockquote>
</p>
</dd>
</dl>
<p>}</p>
</dd></dl>

<span class="target" id="module-diyepw.exceptions"></span><dl class="py exception">
<dt id="diyepw.exceptions.DownloadNotAllowedError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">diyepw.exceptions.</span></code><code class="sig-name descname"><span class="pre">DownloadNotAllowedError</span></code><a class="headerlink" href="#diyepw.exceptions.DownloadNotAllowedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>To be raised in situations where downloading a file would be necessary in order for correct
functionality, but the caller has not given permission for file downloads to take place</p>
</dd></dl>

<span class="target" id="module-diyepw.get_noaa_isd_lite_file"></span><dl class="py function">
<dt id="diyepw.get_noaa_isd_lite_file.get_noaa_isd_lite_file">
<code class="sig-prename descclassname"><span class="pre">diyepw.get_noaa_isd_lite_file.</span></code><code class="sig-name descname"><span class="pre">get_noaa_isd_lite_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wmo_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_downloads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#diyepw.get_noaa_isd_lite_file.get_noaa_isd_lite_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a WMO index and a year, retrieve the corresponding NOAA ISD Lite AMY file
:param wmo_index:
:param year:
:param output_dir: Optional output directory - if not specified, the file will be saved to a package directory.</p>
<blockquote>
<div><p>If the directory already contains a NOAA ISD Lite file matching the requested WMO Index and year, then a new
file will not be downloaded from NOAA and that file’s path will be returned</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allow_downloads</strong> – Pass True to permit NOAA ISD Lite files and related information to be downloaded from
ncdc.noaa.gov if they are not already present in output_dir.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The path to the NOAA ISD Lite file</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-diyepw.get_tmy_epw_file"></span><dl class="py function">
<dt id="diyepw.get_tmy_epw_file.get_tmy_epw_file">
<code class="sig-prename descclassname"><span class="pre">diyepw.get_tmy_epw_file.</span></code><code class="sig-name descname"><span class="pre">get_tmy_epw_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wmo_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_downloads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.get_tmy_epw_file.get_tmy_epw_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a WMO index, retrieve a TMY (typical meteorological year) EPW file for that location
:param wmo_index:
:param output_dir: Optional output directory - if not specified, the file will be saved to a directory in the</p>
<blockquote>
<div><p>diyepw package so that it can be reused in the future if needed. If the directory already contains a TMY
EWP file matching the requested WMO Index, then a new file will not be downloaded, we will just return
that file’s path</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allow_downloads</strong> – Set to True to allow downloads if TMY3 files or the catalog containing their
names and URLs to be downloaded from <a class="reference external" href="http://climate.onebuilding.org">http://climate.onebuilding.org</a> if not already present. If you want
to use this method without permitting downloads, then the TMY3 files can be downloaded manually and put
into the directory specified by output_dir (which defaults to data/tmy_epw_files/ in the package’s own
directory structure). In this case, the files must have names identical to those used by
<a class="reference external" href="http://climate.onebuilding.org/WMO_Region_4_North_and_Central_America/USA_United_States_of_America/">http://climate.onebuilding.org/WMO_Region_4_North_and_Central_America/USA_United_States_of_America/</a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The path to the TMY EPW file</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-diyepw.get_wmo_station_location"></span><dl class="py function">
<dt id="diyepw.get_wmo_station_location.get_wmo_station_location">
<code class="sig-prename descclassname"><span class="pre">diyepw.get_wmo_station_location.</span></code><code class="sig-name descname"><span class="pre">get_wmo_station_location</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wmo_station_number</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.get_wmo_station_location.get_wmo_station_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state, and county associated with a WMO station
:param wmo_station_number: The WMO Station ID of the weather station to get location information for
:return: Either a dict with fields “state” and “county”, or None if no information is available for</p>
<blockquote>
<div><p>the passed WMO Station ID</p>
</div></blockquote>
</dd></dl>

<span class="target" id="module-diyepw.meteorology"></span><dl class="py class">
<dt id="diyepw.meteorology.Meteorology">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">diyepw.meteorology.</span></code><code class="sig-name descname"><span class="pre">Meteorology</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a time series of meteorological measurements at a given location.</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_station_number</span> <span class="pre">The</span> <span class="pre">identification</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">weather</span> <span class="pre">station</span> <span class="pre">that</span> <span class="pre">made</span> <span class="pre">the</span> <span class="pre">observations</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_headers</span> <span class="pre">-</span> <span class="pre">Array</span> <span class="pre">-</span> <span class="pre">Header</span> <span class="pre">file</span> <span class="pre">data</span> <span class="pre">taken</span> <span class="pre">from</span> <span class="pre">an</span> <span class="pre">input</span> <span class="pre">file</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_latitude</span> <span class="pre">-</span> <span class="pre">float</span> <span class="pre">-</span> <span class="pre">Latitude</span> <span class="pre">at</span> <span class="pre">which</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_longitude</span> <span class="pre">-</span> <span class="pre">float</span> <span class="pre">-</span> <span class="pre">Longitude</span> <span class="pre">at</span> <span class="pre">which</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_data_source</span> <span class="pre">-</span> <span class="pre">string</span> <span class="pre">-</span> <span class="pre">Currently</span> <span class="pre">always</span> <span class="pre">&quot;NOAA_TMY,&quot;</span> <span class="pre">identifies</span> <span class="pre">the</span> <span class="pre">source</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">data</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_city</span> <span class="pre">-</span> <span class="pre">str</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">city</span> <span class="pre">in</span> <span class="pre">which</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_state</span> <span class="pre">-</span> <span class="pre">str</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">city</span> <span class="pre">in</span> <span class="pre">which</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_country</span> <span class="pre">-</span> <span class="pre">str</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">city</span> <span class="pre">in</span> <span class="pre">which</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_timezone_gmt_offset</span> <span class="pre">-</span> <span class="pre">float</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">timezone</span> <span class="pre">where</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed,</span> <span class="pre">expressed</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">difference</span></code></dt>
<dd><p>from GMT</p>
</dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_elevation</span> <span class="pre">-</span> <span class="pre">float</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">elevation</span> <span class="pre">at</span> <span class="pre">which</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">was</span> <span class="pre">observed</span> <span class="pre">in</span> <span class="pre">meters</span> <span class="pre">above</span> <span class="pre">sea</span> <span class="pre">level</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_comment</span> <span class="pre">-</span> <span class="pre">str</span> <span class="pre">-</span> <span class="pre">A</span> <span class="pre">comment</span> <span class="pre">string</span> <span class="pre">describing</span> <span class="pre">the</span> <span class="pre">TMY</span> <span class="pre">file</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">_observations</span> <span class="pre">-</span> <span class="pre">DataFrame</span> <span class="pre">-</span> <span class="pre">Data</span> <span class="pre">representing</span> <span class="pre">the</span> <span class="pre">year's</span> <span class="pre">observations</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.city">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">city</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.city" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.country">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">country</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.country" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.elevation">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">elevation</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.elevation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.from_tmy3_file">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">from_tmy3_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.meteorology.Meteorology.from_tmy3_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance of this class based on a tmy3 file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> – Path to a TMY file. For the definition of a tmy3 file,</p>
</dd>
</dl>
<p>see <a class="reference external" href="https://www.nrel.gov/docs/fy08osti/43156.pdf">https://www.nrel.gov/docs/fy08osti/43156.pdf</a>
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.latlong">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">latlong</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.latlong" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.observations">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">observations</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.observations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.set">
<code class="sig-name descname"><span class="pre">set</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.meteorology.Meteorology.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite one of the columns in this instance’s observations
:param column_name: Must be the name of one of the columns in this instance’s observations
:param val: Mixed.</p>
<blockquote>
<div><p>If val is a single value, every value of the named column will be set to that value
If val is a list or pandas.Series, it must contain the same number of items as there are</p>
<blockquote>
<div><p>rows in this instance’s observations, and will replace those values for the named column</p>
</div></blockquote>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.state">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">state</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.station_number">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">station_number</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.station_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.timezone_gmt_offset">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">timezone_gmt_offset</span></code><a class="headerlink" href="#diyepw.meteorology.Meteorology.timezone_gmt_offset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.validate_against_epw_rules">
<code class="sig-name descname"><span class="pre">validate_against_epw_rules</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">list</span><a class="headerlink" href="#diyepw.meteorology.Meteorology.validate_against_epw_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Check all observations to see whether they violate any restrictions that would prevent them
from being used in an EPW file</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of validation errors</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="diyepw.meteorology.Meteorology.write_epw">
<code class="sig-name descname"><span class="pre">write_epw</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#diyepw.meteorology.Meteorology.write_epw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="README.html" class="btn btn-neutral float-left" title="DIYEPW" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Benjamin Stürmer.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>