

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>DIYEPW &mdash; diyepw 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="diyepw Python API" href="diyepw.html" />
    <link rel="prev" title="Contents" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> diyepw
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">DIYEPW</a></li>
<li class="toctree-l1"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="#using-diyepw-to-generate-amy-epw-files">Using DIYEPW to generate AMY EPW files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#interpolation-handling-for-small-gaps">Interpolation: Handling for small gaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#imputation-handling-for-large-gaps">Imputation: Handling for large gaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#package-functions">Package Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reading-in-tmy3-files-and-writing-epw-files">Reading in TMY3 files and writing EPW files</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="diyepw.html">diyepw Python API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">diyepw</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>DIYEPW</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="diyepw">
<h1>DIYEPW<a class="headerlink" href="#diyepw" title="Permalink to this headline">¶</a></h1>
<p>DIYEPW is a tool developed by Pacific Northwest National Laboratory that allows the quick and easy
generation of a set of EPW files for a given set of WMOs and years. It is provided as both a set
of scripts (https://github.com/IMMM-SFA/diyepw-scripts) and as a Python package (https://github.com/IMMM-SFA/diyepw).
This allows DIYEPW to be used as a command-line tool, or as a package to incorporate EPW file
generation into a custom script.</p>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>The DIYEPW Python package can be easily installed using PIP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">diyepw</span>
</pre></div>
</div>
<p>One you’ve installed the package, you can access any of the DIYEPW functions or classes by importing the package
into your own Python scripts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">diyepw</span>
<span class="n">diyepw</span><span class="o">.</span><span class="n">create_amy_epw_files_for_years_and_wmos</span><span class="p">(</span>
    <span class="p">[</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">2011</span><span class="p">,</span> <span class="mi">2012</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">724940</span><span class="p">,</span> <span class="mi">725300</span><span class="p">],</span> 
    <span class="n">max_records_to_interpolate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
    <span class="n">max_records_to_impute</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> 
    <span class="n">max_missing_amy_rows</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> 
    <span class="n">allow_downloads</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-diyepw-to-generate-amy-epw-files">
<h1>Using DIYEPW to generate AMY EPW files<a class="headerlink" href="#using-diyepw-to-generate-amy-epw-files" title="Permalink to this headline">¶</a></h1>
<p>This package is a tool for the generation of AMY (actual meteorological year) EPW files, which is done
by injecting AMY data into TMY (typical meteorological year) EPW files. The generated EPW files
have the following fields replaced with observed data:</p>
<ol class="simple">
<li><p>dry bulb temperature</p></li>
<li><p>dew point temperature</p></li>
<li><p>pressure</p></li>
<li><p>wind direction</p></li>
<li><p>wind speed</p></li>
</ol>
<p>Because observed weather data commonly contains gaps, DIYEPW will attempt to fill in any such gaps to ensure that in
each record a value is present for all of the hourly timestamps for the variables shown above. To do so, it will use one
of two strategies to impute or interpolate values for any missing fields in the data set:</p>
<div class="section" id="interpolation-handling-for-small-gaps">
<h2>Interpolation: Handling for small gaps<a class="headerlink" href="#interpolation-handling-for-small-gaps" title="Permalink to this headline">¶</a></h2>
<p>Small gaps (by default up to 6 consecutive hours of consecutive missing data for a field), are handled by linear
interpolation, so that for example if the dry bulb temperature has a gap with neighboring observed values like
(20, X, X, X, X, 25), DIYEPW will replace the missing values to give (20, 21, 22, 23, 24, 25).</p>
</div>
<div class="section" id="imputation-handling-for-large-gaps">
<h2>Imputation: Handling for large gaps<a class="headerlink" href="#imputation-handling-for-large-gaps" title="Permalink to this headline">¶</a></h2>
<p>Large gaps (by default up to 48 consecutive hours of missing data for a field) are filled using an imputation strategy
whereby each missing field is set to the average of the field’s value two weeks in the past and in the future from
the missing timestamp.</p>
<p>If a gap exists in the data that is larger than the maximum allowed for the imputation strategy, that file will be
rejected and no EPW file will be generated.</p>
<p>The maximum number of missing values that the interpolation strategy will be used for, and the maximum number of
missing values that can be imputed, can be changed from their defaults. The functions that generate EPW files,
<code class="docutils literal notranslate"><span class="pre">create_amy_epw_file()</span></code> and <code class="docutils literal notranslate"><span class="pre">create_amy_epw_files_for_years_and_wmos()</span></code>, both accept the optional arguments
<code class="docutils literal notranslate"><span class="pre">max_records_to_interpolate</span></code> and <code class="docutils literal notranslate"><span class="pre">max_records_to_impute</span></code>, which likewise override the defaults of 6 and 48.</p>
</div>
<div class="section" id="package-functions">
<h2>Package Functions<a class="headerlink" href="#package-functions" title="Permalink to this headline">¶</a></h2>
<p>All of the functionality of the DIYEPW project is available as a set of functions that underlie the scripts
described above. The functions offer much more granular access to the capabilities of the project, and allow
DIYEPW capabilites to be incorporated into other software projects.</p>
<p>The functions provided by the package are as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">analyze_noaa_isd_lite_file()</span></code> - Performs an analysis of a single NOAA ISD Lite file to determine whether it is suitable
for use in generating an AMY EPW file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">analyze_noaa_isd_lite_files()</span></code> - Performs an analysis of a set of NOAA ISD Lite files to determine whether they are
suitable for use in generating AMY EPW files. This function is equivalent to the <code class="docutils literal notranslate"><span class="pre">analyze_noaa_data.py</span></code> script.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_amy_epw_file()</span></code> - Creates a single AMY EPW file for a given year and WMO index.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_amy_epw_files_for_years_and_wmos()</span></code> - Creates a set of AMY EPW files for a set of years and WMO indices.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_noaa_isd_lite_file()</span></code> - Downloads a NOAA ISD Lite file from the NOAA online catalog for a given year and WMO index</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_tmy_epw_file()</span></code> - Downloads a TMY EPW file from the EnergyPlus online catalog for a given WMO index</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_wmo_station_location()</span></code> - Retrieves the state and county associated with a weather station</p></li>
</ul>
<p>The classes provided by the package are as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">Meteorology</span></code> - Represents a collection of meteorological observations, supporting reading in and writing out those
observations in a number of formats. Currently TMY3 and ISD Lite are supported as input types and EPW is supported
as an output type, but there are plans for more input formats to be supported in upcoming releases.</p>
<p>For more detailed documentation of all parameters, return types, and behaviors of the above functions and classes,
please refer to the in-code documentation that heads each function’s definition in the package.</p>
</div>
<div class="section" id="reading-in-tmy3-files-and-writing-epw-files">
<h2>Reading in TMY3 files and writing EPW files<a class="headerlink" href="#reading-in-tmy3-files-and-writing-epw-files" title="Permalink to this headline">¶</a></h2>
<p>Functions for reading TMY3 files and writing EPW files within this script were adapted from the
<a class="reference external" href="https://github.com/SSESLab/laf/blob/master/LAF.py">LAF.py script</a> by Carlo Bianchi at the Site-Specific
Energy Systems Lab repository.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="diyepw.html" class="btn btn-neutral float-right" title="diyepw Python API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Contents" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Benjamin Stürmer.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>